var downloadZip=(()=>{"stream"in Blob.prototype||Object.defineProperty(Blob.prototype,"stream",{value(){return new Response(this).body}}),"setBigUint64"in DataView.prototype||Object.defineProperty(DataView.prototype,"setBigUint64",{value(e,n,t){const i=Number(0xffffffffn&n),f=Number(n>>32n);this.setUint32(e+(t?0:4),i,t),this.setUint32(e+(t?4:0),f,t)}});var r=e=>new DataView(new ArrayBuffer(e)),o=e=>new Uint8Array(e.buffer||e),a=e=>(new TextEncoder).encode(String(e)),s=e=>Math.min(4294967295,Number(e)),u=e=>Math.min(65535,Number(e));function d(e,n){if(void 0===n||n instanceof Date||(n=new Date(n)),e instanceof File)return{isFile:1,t:n||new Date(e.lastModified),i:e.stream()};if(e instanceof Response)return{isFile:1,t:n||new Date(e.headers.get("Last-Modified")||Date.now()),i:e.body};if(void 0===n)n=new Date;else if(isNaN(n))throw new Error("Invalid modification date.");if(void 0===e)return{isFile:0,t:n};if("string"==typeof e)return{isFile:1,t:n,i:a(e)};if(e instanceof Blob)return{isFile:1,t:n,i:e.stream()};if(e instanceof Uint8Array||e instanceof ReadableStream)return{isFile:1,t:n,i:e};if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return{isFile:1,t:n,i:o(e)};if(Symbol.asyncIterator in e)return{isFile:1,t:n,i:l(e)};throw new TypeError("Unsupported input format.")}function l(e){const n="next"in e?e:e[Symbol.asyncIterator]();return new ReadableStream({async pull(e){let t=0;for(;e.desiredSize>t;){const i=await n.next();if(!i.value){e.close();break}{const n=y(i.value);e.enqueue(n),t+=n.byteLength}}},async cancel(e){try{await(n.throw?.(e))}catch(e){}}})}function y(e){return"string"==typeof e?a(e):e instanceof Uint8Array?e:o(e)}function w(e,n,t){let[i,f]=function(e){return e?e instanceof Uint8Array?[e,1]:ArrayBuffer.isView(e)||e instanceof ArrayBuffer?[o(e),1]:[a(e),0]:[void 0,0]}(n);if(e instanceof File)return{o:b(i||a(e.name)),u:BigInt(e.size),l:f};if(e instanceof Response){const n=e.headers.get("content-disposition"),r=n&&n.match(/;\s*filename\*?=["']?(.*?)["']?$/i),o=r&&r[1]||e.url&&new URL(e.url).pathname.split("/").findLast(Boolean),s=o&&decodeURIComponent(o),u=t||+e.headers.get("content-length");return{o:b(i||a(s)),u:BigInt(u),l:f}}return i=b(i,void 0!==e||void 0!==t),"string"==typeof e?{o:i,u:BigInt(a(e).length),l:f}:e instanceof Blob?{o:i,u:BigInt(e.size),l:f}:e instanceof ArrayBuffer||ArrayBuffer.isView(e)?{o:i,u:BigInt(e.byteLength),l:f}:{o:i,u:B(e,t),l:f}}function B(e,n){return n>-1?BigInt(n):e?void 0:0n}function b(e,n=1){if(!e||e.every((c=>47===c)))throw new Error("The file must have a name.");if(n)for(;47===e[e.length-1];)e=e.subarray(0,-1);else 47!==e[e.length-1]&&(e=new Uint8Array([...e,47]));return e}var p=new Uint32Array(256);for(let e=0;e<256;++e){let n=e;for(let e=0;e<8;++e)n=n>>>1^(1&n&&3988292384);p[e]=n}function g(e,n=0){n^=-1;for(var t=0,i=e.length;t<i;t++)n=n>>>8^p[255&n^e[t]];return(-1^n)>>>0}function v(e,n,t=0){const i=e.getSeconds()>>1|e.getMinutes()<<5|e.getHours()<<11,f=e.getDate()|e.getMonth()+1<<5|e.getFullYear()-1980<<9;n.setUint16(t,i,1),n.setUint16(t+2,f,1)}function I({o:e,l:n},t){return 8*(!n||(t??function(e){try{D.decode(e)}catch{return 0}return 1}(e)))}var D=new TextDecoder("utf8",{fatal:1});function h(e,n=0){const t=r(30);return t.setUint32(0,1347093252),t.setUint32(4,754976768|n),v(e.t,t,10),t.setUint16(26,e.o.length,1),o(t)}async function*A(e){let{i:n}=e;if("then"in n&&(n=await n),n instanceof Uint8Array)yield n,e.m=g(n,0),e.u=BigInt(n.length);else{e.u=0n;const t=n.getReader();for(;;){const{value:n,done:i}=await t.read();if(i)break;e.m=g(n,e.m),e.u+=BigInt(n.length),yield n}}}function N(e,n){const t=r(16+(n?8:0));return t.setUint32(0,1347094280),t.setUint32(4,e.isFile?e.m:0,1),n?(t.setBigUint64(8,e.u,1),t.setBigUint64(16,e.u,1)):(t.setUint32(8,s(e.u),1),t.setUint32(12,s(e.u),1)),o(t)}function S(e,n,t=0,i=0){const f=r(46);return f.setUint32(0,1347092738),f.setUint32(4,755182848),f.setUint16(8,2048|t),v(e.t,f,12),f.setUint32(16,e.isFile?e.m:0,1),f.setUint32(20,s(e.u),1),f.setUint32(24,s(e.u),1),f.setUint16(28,e.o.length,1),f.setUint16(30,i,1),f.setUint16(40,e.isFile?33204:16893,1),f.setUint32(42,s(n),1),o(f)}function U(e,n,t){const i=r(t);return i.setUint16(0,1,1),i.setUint16(2,t-4,1),16&t&&(i.setBigUint64(4,e.u,1),i.setBigUint64(12,e.u,1)),i.setBigUint64(t-8,n,1),o(i)}function x(e){return e instanceof File||e instanceof Response?[[e],[e]]:[[e.input,e.name,e.size],[e.input,e.lastModified]]}var F=e=>function(e){let n=BigInt(22),t=0n,i=0;for(const f of e){if(!f.o)throw new Error("Every file must have a non-empty name.");if(void 0===f.u)throw new Error(`Missing size for file "${(new TextDecoder).decode(f.o)}".`);const e=f.u>=0xffffffffn,r=t>=0xffffffffn;t+=BigInt(46+f.o.length+(e&&8))+f.u,n+=BigInt(f.o.length+46+(12*r|28*e)),i||(i=e)}return(i||t>=0xffffffffn)&&(n+=BigInt(76)),n+t}(function*(e){for(const n of e)yield w(...x(n)[0])}(e));return function(e,n={}){const t={"Content-Type":"application/zip","Content-Disposition":"attachment"};return("bigint"==typeof n.length||Number.isInteger(n.length))&&n.length>0&&(t["Content-Length"]=String(n.length)),n.metadata&&(t["Content-Length"]=String(F(n.metadata))),new Response(function(e,n={}){return l(async function*(e,n){const t=[];let i=0n,f=0n,a=0;for await(const r of e){const e=I(r,n.buffersAreUTF8);yield h(r,e),yield r.o,r.isFile&&(yield*A(r));const o=r.u>=0xffffffffn,s=12*(i>=0xffffffffn)|28*o;yield N(r,o),t.push(S(r,i,e,s)),t.push(r.o),s&&t.push(U(r,i,s)),o&&(i+=8n),f++,i+=BigInt(46+r.o.length)+r.u,a||(a=o)}let d=0n;for(const e of t)yield e,d+=BigInt(e.length);if(a||i>=0xffffffffn){const e=r(76);e.setUint32(0,1347094022),e.setBigUint64(4,BigInt(44),1),e.setUint32(12,755182848),e.setBigUint64(24,f,1),e.setBigUint64(32,f,1),e.setBigUint64(40,d,1),e.setBigUint64(48,i,1),e.setUint32(56,1347094023),e.setBigUint64(64,i+d,1),e.setUint32(72,1,1),yield o(e)}const l=r(22);l.setUint32(0,1347093766),l.setUint16(8,u(f),1),l.setUint16(10,u(f),1),l.setUint32(12,s(d),1),l.setUint32(16,s(i),1),yield o(l)}(async function*(e){for await(const n of e){const[e,t]=x(n);yield Object.assign(d(...t),w(...e))}}(e),n))}(e,n),{headers:t})}})();